{% load wagtailcore_tags %}
<div class="footer-modal-launcher" data-bs-toggle="modal" data-bs-target="#{{ value.text|slugify }}{{ value.link|slugify }}Modal">{{ value.text }}</div>

<div class="modal fade" id="{{ value.text|slugify }}{{ value.link|slugify }}Modal" tabindex="-1" aria-labelledby="{{ value.text|slugify }}{{ value.link|slugify }}Label" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen p-4">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <!-- <iframe src="{{ value.link }}?embedded=true" width="766" height="700" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe> -->
          {% with attrs="width=\"100%\" height=\"100%\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\"" %}
            {% if '?' in value.link %}
              {% if 'embedded=true' in value.link %}
                <iframe src="{{ value.link }}" class="modal-form" {{ attrs }}>Loading…</iframe>
              {% else %}
                <iframe src="{{ value.link }}&embedded=true" class="modal-form" {{ attrs }}>Loading…</iframe>
              {% endif %}
            {% else %}
              <iframe src="{{ value.link }}?embedded=true" class="modal-form" {{ attrs }}>Loading…</iframe>
            {% endif %}
          {% endwith %}
      </div>
    </div>
  </div>
</div>
